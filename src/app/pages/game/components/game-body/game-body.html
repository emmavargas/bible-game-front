<div class="flex flex-col gap-4 min-[390px]:gap-5 sm:gap-7 mt-2 min-[390px]:mt-3 w-full py-4 min-[390px]:py-5 sm:py-6 px-3 min-[390px]:px-4 sm:px-10 items-center justify-center bg-white rounded-xl sm:rounded-2xl shadow-lg shadow-purple-800/80">
  <h1 class="bg-gradient-to-bl from-purple-800 via-purple-600 to-purple-400 text-white font-bold px-3 min-[390px]:px-4 sm:px-5 py-1.5 min-[390px]:py-2 rounded-xl sm:rounded-2xl text-sm min-[390px]:text-base">Pregunta</h1>
  <span class="text-lg min-[390px]:text-xl sm:text-2xl md:text-3xl font-bold text-black/80 text-center px-2">{{question()}}</span>

  <!-- Cuadros fijos con letras que se van llenando -->
  <div class="flex flex-wrap gap-2 min-[390px]:gap-3 sm:gap-5 w-full justify-center px-2">
    @for (char of letras(); track $index) {
      <div class="flex bg-gray-300/20 border-2 min-[390px]:border-[2.5px] sm:border-3 border-gray-300 backdrop-blur-md text-blue-500 font-semibold w-8 min-[390px]:w-10 sm:w-12 h-8 min-[390px]:h-10 sm:h-12 rounded-xl sm:rounded-2xl items-center justify-center">
        <span class="text-xl min-[390px]:text-2xl sm:text-2xl md:text-3xl">{{ char }}</span>
      </div>
    }
  </div>


  <form [formGroup]='responseForm' (ngSubmit)="onSubmit()" class="flex flex-col gap-3 min-[390px]:gap-4 sm:gap-5 w-full px-2 sm:px-0">
    <input 
      (focus)="onFocus()"
      (blur)="onBlur()"
      [ngClass]="isFocused() ? 'border-gray-700/40 shadow-lg' : 'border-gray-400/40'" 
      formControlName="response" 
      type="text" 
      (input)="onInput($event)" 
      [attr.maxlength]="answerLength()"
      [attr.size]="answerLength()"
      autocomplete="off"
      autocapitalize="characters"
      class="bg-amber-50 p-2.5 min-[390px]:p-3 text-base min-[390px]:text-lg rounded-2xl min-[390px]:rounded-3xl border-2 focus:outline-none transition-all duration-300 text-center uppercase"
    />

    <div class="flex gap-2 min-[390px]:gap-3 items-center justify-between">
      <button 
      [ngClass]="(activatedButton() || !responseForm.valid) ? 'bg-green-400/30 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700 cursor-pointer'"
      type="submit" 
      [disabled]="activatedButton() || !responseForm.valid" 
      class="backdrop-blur-md rounded-3xl p-3 hover:scale-105 transition-all duration-300 w-1/2 text-2xl font-bold text-white disabled:bg-green-400/30 disabled:cursor-not-allowed">
        RESPONDER
      </button>
            <button 
        type="button" 
        (click)="onHintClick()"
        class="bg-white/40 border-2 backdrop-blur-md p-3 rounded-3xl hover:bg-orange-300/20 hover:text-black hover:scale-105 transition-all duration-300 w-1/2 text-2xl font-bold text-orange-400 cursor-pointer">
        PISTA
      </button>
    </div>

  </form>
    
</div>
